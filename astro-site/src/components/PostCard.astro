---
interface Props {
	title: string;
	slug: string;
	pubDate: Date;
	url: string;
	categories: string[];
	excerpt: string;
	commentCount: number;
}

const { title, slug, pubDate, url, categories, excerpt, commentCount } = Astro.props;

const formattedDate = pubDate.toLocaleDateString("en-US", {
	year: "numeric",
	month: "long",
	day: "numeric",
});
---

<article class="border-b border-gray-200 pb-8 mb-8 last:border-b-0">
	<h2 class="text-2xl font-bold mb-2">
		<a href={url} class="text-gray-800 hover:text-orange-600 no-underline">
			{title}
		</a>
	</h2>

	<div class="flex items-center gap-4 text-sm text-gray-600 mb-3 font-sans">
		<time datetime={pubDate.toISOString()}>{formattedDate}</time>
		{
			categories.length > 0 && (
				<div class="flex gap-2">
					{categories.map((cat) => (
						<a
							href={`/category/${cat.toLowerCase().replace(/\s+/g, "-")}/`}
							class="text-orange-600 hover:text-orange-700 no-underline"
						>
							{cat}
						</a>
					))}
				</div>
			)
		}
		{
			commentCount > 0 && (
				<span>
					{commentCount} {commentCount === 1 ? "comment" : "comments"}
				</span>
			)
		}
	</div>

	<p class="text-gray-700 mb-4 leading-relaxed">
		{excerpt}
	</p>

	<a
		href={url}
		class="inline-block text-orange-600 hover:text-orange-700 font-sans font-semibold no-underline"
	>
		Read more â†’
	</a>
</article>
